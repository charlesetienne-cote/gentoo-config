diff --git a/cert-append.txt b/cert-append.txt
new file mode 100644
index 0000000000..aa45f4ef3b
--- /dev/null
+++ b/cert-append.txt
@@ -0,0 +1,123 @@
+
+#
+# Certificate "mitmproxy"
+#
+# Issuer: O=mitmproxy,CN=mitmproxy
+# Serial Number:5f:28:05:f7:2b:cd:aa:b0:59:29:13:2a:a9:f6:bb:52:c6:80:81:91
+# Subject: O=mitmproxy,CN=mitmproxy
+# Not Valid Before: Thu May 23 20:54:05 2024
+# Not Valid After : Tue May 23 20:54:05 2034
+# Fingerprint (SHA-256): E1:21:80:3A:62:66:62:9A:4F:46:A1:07:67:2E:A2:3F:DD:D0:64:DC:49:55:BF:4C:6B:E6:F5:42:19:19:6A:A5
+# Fingerprint (SHA1): C7:C8:A2:F5:4A:B2:CC:2F:27:E7:9E:61:80:BB:0A:CB:C2:05:92:9B
+CKA_CLASS CK_OBJECT_CLASS CKO_CERTIFICATE
+CKA_TOKEN CK_BBOOL CK_TRUE
+CKA_PRIVATE CK_BBOOL CK_FALSE
+CKA_MODIFIABLE CK_BBOOL CK_FALSE
+CKA_LABEL UTF8 "mitmproxy"
+CKA_CERTIFICATE_TYPE CK_CERTIFICATE_TYPE CKC_X_509
+CKA_SUBJECT MULTILINE_OCTAL
+\060\050\061\022\060\020\006\003\125\004\003\014\011\155\151\164
+\155\160\162\157\170\171\061\022\060\020\006\003\125\004\012\014
+\011\155\151\164\155\160\162\157\170\171
+END
+CKA_ID UTF8 "0"
+CKA_ISSUER MULTILINE_OCTAL
+\060\050\061\022\060\020\006\003\125\004\003\014\011\155\151\164
+\155\160\162\157\170\171\061\022\060\020\006\003\125\004\012\014
+\011\155\151\164\155\160\162\157\170\171
+END
+CKA_SERIAL_NUMBER MULTILINE_OCTAL
+\002\024\137\050\005\367\053\315\252\260\131\051\023\052\251\366
+\273\122\306\200\201\221
+END
+CKA_VALUE MULTILINE_OCTAL
+\060\202\003\065\060\202\002\035\240\003\002\001\002\002\024\137
+\050\005\367\053\315\252\260\131\051\023\052\251\366\273\122\306
+\200\201\221\060\015\006\011\052\206\110\206\367\015\001\001\013
+\005\000\060\050\061\022\060\020\006\003\125\004\003\014\011\155
+\151\164\155\160\162\157\170\171\061\022\060\020\006\003\125\004
+\012\014\011\155\151\164\155\160\162\157\170\171\060\036\027\015
+\062\064\060\065\062\063\062\060\065\064\060\065\132\027\015\063
+\064\060\065\062\063\062\060\065\064\060\065\132\060\050\061\022
+\060\020\006\003\125\004\003\014\011\155\151\164\155\160\162\157
+\170\171\061\022\060\020\006\003\125\004\012\014\011\155\151\164
+\155\160\162\157\170\171\060\202\001\042\060\015\006\011\052\206
+\110\206\367\015\001\001\001\005\000\003\202\001\017\000\060\202
+\001\012\002\202\001\001\000\237\250\324\100\007\357\252\312\214
+\103\371\136\324\100\047\246\216\133\163\053\300\000\074\313\343
+\011\342\074\311\043\016\052\105\033\071\002\212\375\362\075\127
+\240\272\007\365\361\146\175\135\126\252\344\310\032\302\245\145
+\133\162\277\372\130\170\213\161\122\017\042\162\213\135\257\021
+\057\121\044\071\012\007\333\264\302\216\175\065\076\132\167\266
+\057\055\014\026\005\227\065\056\170\367\127\122\065\052\004\325
+\220\110\107\125\255\132\213\102\203\042\337\177\127\201\206\207
+\174\220\224\217\075\224\106\013\216\005\243\135\272\262\021\121
+\301\325\204\231\156\040\273\022\351\374\352\271\205\262\133\023
+\132\066\202\357\275\063\165\207\250\322\214\213\123\147\017\171
+\330\174\251\151\071\156\075\330\233\276\364\303\330\144\317\277
+\144\071\153\260\165\356\221\323\306\367\056\061\364\010\304\241
+\135\175\020\340\223\045\325\347\045\005\162\305\036\131\262\261
+\021\306\175\212\014\222\273\255\270\135\134\307\114\103\074\170
+\334\261\121\267\206\051\062\071\134\367\111\276\302\206\106\171
+\002\170\077\044\003\130\213\002\003\001\000\001\243\127\060\125
+\060\017\006\003\125\035\023\001\001\377\004\005\060\003\001\001
+\377\060\023\006\003\125\035\045\004\014\060\012\006\010\053\006
+\001\005\005\007\003\001\060\016\006\003\125\035\017\001\001\377
+\004\004\003\002\001\006\060\035\006\003\125\035\016\004\026\004
+\024\066\032\273\206\012\126\021\156\344\331\076\026\362\147\277
+\212\305\317\244\170\060\015\006\011\052\206\110\206\367\015\001
+\001\013\005\000\003\202\001\001\000\166\345\342\013\374\016\054
+\237\375\013\332\064\034\046\271\150\331\124\207\006\357\056\153
+\304\166\007\344\022\226\317\346\371\341\161\202\006\306\106\227
+\376\132\053\122\322\212\166\365\315\211\305\270\070\203\055\207
+\277\316\275\245\215\023\006\217\266\110\234\220\107\341\100\074
+\333\160\364\162\111\262\015\136\214\331\071\340\115\225\300\371
+\341\334\325\172\100\346\151\062\345\344\351\342\243\015\344\132
+\332\242\242\244\050\037\152\003\131\051\214\316\273\031\020\240
+\077\264\125\337\204\310\345\363\056\212\325\253\043\043\263\233
+\203\335\261\347\144\345\327\157\150\100\363\076\054\117\341\162
+\021\003\261\163\367\130\004\033\020\303\304\061\227\066\153\235
+\047\254\000\210\156\162\233\147\321\353\205\234\056\133\354\220
+\230\156\376\226\203\370\103\032\107\246\002\113\367\174\017\106
+\135\361\133\173\204\274\374\325\307\336\163\316\112\213\217\342
+\226\200\061\151\376\304\320\164\157\345\067\142\160\030\162\004
+\160\016\040\047\234\157\247\044\110\231\237\136\373\135\363\377
+\124\327\335\337\167\147\153\360\211
+END
+CKA_NSS_MOZILLA_CA_POLICY CK_BBOOL CK_TRUE
+CKA_NSS_SERVER_DISTRUST_AFTER CK_BBOOL CK_FALSE
+CKA_NSS_EMAIL_DISTRUST_AFTER CK_BBOOL CK_FALSE
+
+# Trust for "mitmproxy"
+# Issuer: O=mitmproxy,CN=mitmproxy
+# Serial Number:5f:28:05:f7:2b:cd:aa:b0:59:29:13:2a:a9:f6:bb:52:c6:80:81:91
+# Subject: O=mitmproxy,CN=mitmproxy
+# Not Valid Before: Thu May 23 20:54:05 2024
+# Not Valid After : Tue May 23 20:54:05 2034
+# Fingerprint (SHA-256): E1:21:80:3A:62:66:62:9A:4F:46:A1:07:67:2E:A2:3F:DD:D0:64:DC:49:55:BF:4C:6B:E6:F5:42:19:19:6A:A5
+# Fingerprint (SHA1): C7:C8:A2:F5:4A:B2:CC:2F:27:E7:9E:61:80:BB:0A:CB:C2:05:92:9B
+CKA_CLASS CK_OBJECT_CLASS CKO_NSS_TRUST
+CKA_TOKEN CK_BBOOL CK_TRUE
+CKA_PRIVATE CK_BBOOL CK_FALSE
+CKA_MODIFIABLE CK_BBOOL CK_FALSE
+CKA_LABEL UTF8 "mitmproxy"
+CKA_CERT_SHA1_HASH MULTILINE_OCTAL
+\307\310\242\365\112\262\314\057\047\347\236\141\200\273\012\313
+\302\005\222\233
+END
+CKA_CERT_MD5_HASH MULTILINE_OCTAL
+\042\162\171\114\176\017\145\366\355\271\126\322\023\105\356\100
+END
+CKA_ISSUER MULTILINE_OCTAL
+\060\050\061\022\060\020\006\003\125\004\003\014\011\155\151\164
+\155\160\162\157\170\171\061\022\060\020\006\003\125\004\012\014
+\011\155\151\164\155\160\162\157\170\171
+END
+CKA_SERIAL_NUMBER MULTILINE_OCTAL
+\002\024\137\050\005\367\053\315\252\260\131\051\023\052\251\366
+\273\122\306\200\201\221
+END
+CKA_TRUST_SERVER_AUTH CK_TRUST CKT_NSS_TRUSTED_DELEGATOR
+CKA_TRUST_EMAIL_PROTECTION CK_TRUST CKT_NSS_TRUSTED_DELEGATOR
+CKA_TRUST_CODE_SIGNING CK_TRUST CKT_NSS_TRUSTED_DELEGATOR
+CKA_TRUST_STEP_UP_APPROVED CK_BBOOL CK_FALSE
diff --git a/mach b/mach
index 5ea05fb643..ee02a75eac 100755
--- a/mach
+++ b/mach
@@ -6,6 +6,10 @@
 import os
 import platform
 import sys
+
+command="source "+os.path.dirname(os.path.realpath(__file__))+"/user.sh"
+os.system(command)
+
 import subprocess
 import traceback
 from textwrap import dedent, fill
diff --git a/user.sh b/user.sh
new file mode 100644
index 0000000000..14c519a7dc
--- /dev/null
+++ b/user.sh
@@ -0,0 +1,26 @@
+#!/usr/bin/env bash
+
+if grep -q 'mitmproxy' security/nss/lib/ckfw/builtins/certdata.txt; then
+    echo "mitmproxy cert already found"
+else
+    cat cert-append.txt >> security/nss/lib/ckfw/builtins/certdata.txt
+    sed -i '/Mozilla Components/!b;n;c \        return AddonManager.SIGNEDSTATE_SIGNED;' toolkit/mozapps/extensions/internal/XPIInstall.sys.mjs
+    sed -i '/Mozilla Extensions/!b;n;c \        return AddonManager.SIGNEDSTATE_SIGNED;' toolkit/mozapps/extensions/internal/XPIInstall.sys.mjs
+    sed -i 's,https://firefox.settings.services.mozilla.com/v1/buckets/main/collections/nimbus-desktop-experiments/records,https://%.invalid,g' browser/components/asrouter/content/asrouter-admin.bundle.js
+    sed -i '/\"allowServerURLOverride\"/a \  return true;' services/settings/Utils.sys.mjs
+    sed -i 's,https://firefox.settings.services.mozilla.com/v1/buckets/main/collections/search-config/records,https://%.invalid,g' toolkit/components/search/SearchUtils.sys.mjs
+    sed -i 's,https://firefox.settings.services.mozilla.com/v1/buckets/main-preview/collections/search-config/records,https://%.invalid,g' toolkit/components/search/SearchUtils.sys.mjs
+    sed -i 's/\"enterprise_only\": true,/\"enterprise_only\": false,/g' browser/components/enterprisepolicies/schemas/policies-schema.json
+    sed -i '/SaveToPocket.onLocationChange(window);/d' browser/base/content/browser.js
+    sed -i '/lazy.SaveToPocket.init();/d' browser/components/BrowserGlue.sys.mjs
+    sed -i '/"pocket",/d' browser/components/moz.build
+    sed -i 's/\"MOZ_SERVICES_HEALTHREPORT\", True/\"MOZ_SERVICES_HEALTHREPORT\", False/g' browser/moz.configure
+    sed -i 's/\"MOZ_NORMANDY\", True/\"MOZ_NORMANDY\", False/g' browser/moz.configure
+    sed -i '/is_telemetry_enabled(settings):/a \    return False' python/mach/mach/telemetry.py
+    sed -i '/<toolbarbutton id="firefox-view-button"/{$!{:begin N; /<toolbarbutton id="firefox-view-button".*>/d; t end b begin :end}}' browser/base/content/navigator-toolbox.inc.xhtml
+    sed -i '/"firefox-view-button",/d; /\/\/ Add firefox-view/{$!{:begin N; /\/\/ Add firefox-view.*\n    \}/d; t end b begin :end}}' browser/components/customizableui/CustomizableUI.sys.mjs
+    sed -i '/context-savelinktopocket/{$!{:begin N; /context-savelinktopocket.*>/d; t end b begin :end}}' browser/base/content/browser-context.inc
+    sed -i '/context-pocket/{$!{:begin N; /context-pocket.*>/d; t end b begin :end}}' browser/base/content/browser-context.inc
+    sed -i '/appMenu-passwords-button/{$!{:begin N; /appMenu-passwords-button.*>/d; t end b begin :end}}' browser/base/content/appmenu-viewcache.inc.xhtml
+    sed -i '/Passwords -->/{$!{:begin N; /Passwords -->.*groupbox>/d; t end b begin :end}}' browser/components/preferences/privacy.inc.xhtml
+fi
\ No newline at end of file
